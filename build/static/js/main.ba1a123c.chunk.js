(this.webpackJsonpWeatherApp=this.webpackJsonpWeatherApp||[]).push([[0],{14:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(9),r=a.n(s),i=(a(14),a(2)),l=a.n(i),o=a(7),m=a(3),u=a(4),d=a(6),h=a(5),j=a(0),p=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).makeApiCall=Object(o.a)(l.a.mark((function e(){var t,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("email-address").value,e.next=3,fetch("http://apilayer.net/api/check?access_key=".concat("8fd1da419cb38c4883df942c99a274b4","&email=").concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:(c=e.sent).smtp_check&&c.format_valid?n.setState({mx_found:c.mx_found,user:c.user,smtp_check:c.smtp_check,format_valid:c.format_valid,error:!1},(function(){alert("Welcome "+n.state.user)})):alert("Invalid Email! Please use your active email");case 8:case"end":return e.stop()}}),e)}))),n.state={mx_found:!1,format_valid:!1,smtp_check:!1,user:"",error:!0},n}return Object(u.a)(a,[{key:"render",value:function(){this.props.onComponentChange;return Object(j.jsxs)("div",{className:"mt3",children:[Object(j.jsx)("label",{className:"db fw6 lh-copy f6",fo:"email-address",children:"Email"}),Object(j.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-black w-100",type:"text",name:"email-address",id:"email-address",onBlur:this.makeApiCall})]})}}]),a}(c.a.Component),b=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.onRouteChange;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"b tc center f2",children:" Welcome to Weather APP !!! "}),Object(j.jsx)("article",{className:"br2 ba dark-gray b--black-20 mv4 w-100 w-50-m w-25-l mw5 center shadow",children:Object(j.jsx)("main",{className:"pa4 black-80",children:Object(j.jsxs)("form",{className:"measure",children:[Object(j.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(j.jsx)("legend",{className:"f4 fw6 ph0 mh0",children:"Sign In"}),Object(j.jsx)(p,{}),Object(j.jsxs)("div",{className:"mv3",children:[Object(j.jsx)("label",{className:"db fw6 lh-copy f6",fo:"password",children:"Password"}),Object(j.jsx)("input",{className:"b pa2 input-reset ba bg-transparent hover-black w-100",type:"password",name:"password",id:"password"})]})]}),Object(j.jsx)("div",{className:"",children:Object(j.jsx)("input",{className:"ml3 b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign in",onClick:function(){return e("Weather")}})})]})})})]})}}]),a}(n.Component),f=function(e){var t=e.onRouteChange;return Object(j.jsx)("nav",{className:"flex justify-end",children:Object(j.jsx)("p",{onClick:function(){return t("login")},className:"i link f3 black grow pointer br2",children:"Sign Out "})})},x=(a(17),function(e){return Object(j.jsx)("div",{className:"alert alert-danger mx-5",role:"alert",children:"Please Enter City and Country...!"})}),O=function(e){return Object(j.jsxs)("div",{className:"justify-center",children:[Object(j.jsx)("h1",{className:"tc",children:" Enter city and country "}),Object(j.jsx)("div",{className:"",children:Object(j.jsxs)("form",{onSubmit:e.loadweather,children:[Object(j.jsx)("div",{children:e.error?x():""}),Object(j.jsxs)("div",{className:"ma4",children:[Object(j.jsx)("div",{className:"items-center",children:Object(j.jsx)("input",{type:"text",className:"justify-center pv3 shadow",placeholder:"City",name:"city",autoComplete:"off"})}),Object(j.jsx)("div",{className:"items-center",children:Object(j.jsx)("input",{type:"text",className:"justify-center items-center pv3",placeholder:"Country",name:"country",autoComplete:"off"})}),Object(j.jsx)("div",{className:"pv3",children:Object(j.jsx)("button",{className:"pv2 input-reset b--black bg-transparent grow f6",children:"Get Weather"})})]})]})})]})},v=function(e){return Object(j.jsx)("div",{className:"",children:Object(j.jsxs)("div",{className:"ma2 br2 ba dark-gray b--black-20 mv4 w-150 w-75-m w-25-l mw5 center shadow",children:[Object(j.jsx)("h1",{className:"tc pa2",children:e.cityname}),e.temp_celsius?Object(j.jsxs)("h1",{className:"tc",children:[e.temp_celsius,"\xb0"]}):null,y(e.temp_min,e.temp_max),Object(j.jsx)("h4",{className:"tc",children:e.description.charAt(0).toUpperCase()+e.description.slice(1)})]})})};function y(e,t){if(t&&e)return Object(j.jsxs)("h3",{className:"tc",children:[Object(j.jsxs)("span",{className:"pa2",children:[e,"\xb0"]}),Object(j.jsxs)("span",{className:"pa2",children:[t,"\xb0"]})]})}var N=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).currenttime=Object(o.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://worldclockapi.com/api/json/utc/now");case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,e.setState({currentDateTime:n.currentDateTime,dayOfTheWeek:n.dayOfTheWeek,timeZoneName:n.timeZoneName});case 7:case"end":return t.stop()}}),t)}))),e.state={currentDateTime:"",dayOfTheWeek:"",timeZoneName:""},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.currenttime()}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{className:"tc ma2 f2",children:"Login Details"}),Object(j.jsxs)("p",{className:"tc ma2 f5",children:["Date & Time: ",this.state.currentDateTime]}),Object(j.jsxs)("p",{className:"tc ma2 f5",children:["Day:    ",this.state.dayOfTheWeek]}),Object(j.jsxs)("p",{className:"tc ma2 f5",children:["TimeZone:    ",this.state.timeZoneName]})]})}}]),a}(c.a.Component),g=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).getWeather=function(){var t=Object(o.a)(l.a.mark((function t(a){var n,c,s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=a.target.elements.country.value,c=a.target.elements.city.value,!n||!c){t.next=14;break}return t.next=6,fetch("http://api.openweathermap.org/data/2.5/weather?q=".concat(c,",").concat(n,"&appid=").concat("e8a58ee00e5ccf3676751bdde74adb74"));case 6:return s=t.sent,t.next=9,s.json();case 9:r=t.sent,e.setState({city:"".concat(r.name,", ").concat(r.sys.country),country:r.sys.country,main:r.weather[0].main,celsius:e.calCelsius(r.main.temp),temp_max:e.calCelsius(r.main.temp_max),temp_min:e.calCelsius(r.main.temp_min),description:r.weather[0].description,error:!1}),console.log(r),t.next=15;break;case 14:e.setState({error:!0});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onRouteChange=function(t){e.setState({route:t})},e.state={route:"login",city:void 0,country:void 0,main:void 0,celsius:void 0,temp_max:null,temp_min:null,description:"",error:!1},e}return Object(u.a)(a,[{key:"calCelsius",value:function(e){return Math.floor(e-273.15)}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(f,{onRouteChange:this.onRouteChange}),"login"===this.state.route?Object(j.jsx)(b,{onRouteChange:this.onRouteChange}):Object(j.jsxs)("div",{className:"tc",children:[Object(j.jsx)(O,{loadweather:this.getWeather,error:this.state.error}),Object(j.jsx)(v,{cityname:this.state.city,temp_celsius:this.state.celsius,temp_max:this.state.temp_max,temp_min:this.state.temp_min,description:this.state.description}),Object(j.jsx)(N,{})]})]})}}]),a}(n.Component),w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,20)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};a(18);r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root")),w()}},[[19,1,2]]]);
//# sourceMappingURL=main.ba1a123c.chunk.js.map