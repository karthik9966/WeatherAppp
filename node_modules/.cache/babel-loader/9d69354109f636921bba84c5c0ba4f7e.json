{"ast":null,"code":"import _regeneratorRuntime from\"/Users/karthik/WeatherApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/karthik/WeatherApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/karthik/WeatherApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/karthik/WeatherApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/karthik/WeatherApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/karthik/WeatherApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Signin from'./Signin';import Navigation from'./Navigation';import Form from\"./Form.js\";import Weather from\"./Weather.js\";import Currenttime from\"./Currenttime.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Api_Key=\"e8a58ee00e5ccf3676751bdde74adb74\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.getWeather=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var country,city,api_call,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();country=e.target.elements.country.value;city=e.target.elements.city.value;if(!(country&&city)){_context.next=14;break;}_context.next=6;return fetch(\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\",\").concat(country,\"&appid=\").concat(Api_Key));case 6:api_call=_context.sent;_context.next=9;return api_call.json();case 9:response=_context.sent;_this.setState({city:\"\".concat(response.name,\", \").concat(response.sys.country),country:response.sys.country,main:response.weather[0].main,celsius:_this.calCelsius(response.main.temp),temp_max:_this.calCelsius(response.main.temp_max),temp_min:_this.calCelsius(response.main.temp_min),description:response.weather[0].description,error:false});console.log(response);_context.next=15;break;case 14:_this.setState({error:true});case 15:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.onRouteChange=function(prop){_this.setState({route:prop});};_this.state={route:'login',city:undefined,country:undefined,main:undefined,celsius:undefined,temp_max:null,temp_min:null,description:\"\",error:false};return _this;}_createClass(App,[{key:\"calCelsius\",value:function calCelsius(temp){var cell=Math.floor(temp-273.15);return cell;}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navigation,{onRouteChange:this.onRouteChange}),this.state.route==='login'?/*#__PURE__*/_jsx(Signin,{onRouteChange:this.onRouteChange}):/*#__PURE__*/_jsxs(\"div\",{className:\"tc\",children:[/*#__PURE__*/_jsx(Form,{loadweather:this.getWeather,error:this.state.error}),/*#__PURE__*/_jsx(Weather,{cityname:this.state.city,temp_celsius:this.state.celsius,temp_max:this.state.temp_max,temp_min:this.state.temp_min,description:this.state.description}),/*#__PURE__*/_jsx(Currenttime,{})]})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/karthik/WeatherApp/src/App.js"],"names":["React","Component","Signin","Navigation","Form","Weather","Currenttime","Api_Key","App","getWeather","e","preventDefault","country","target","elements","value","city","fetch","api_call","json","response","setState","name","sys","main","weather","celsius","calCelsius","temp","temp_max","temp_min","description","error","console","log","onRouteChange","prop","route","state","undefined","cell","Math","floor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Signin from './Signin';\nimport Navigation from './Navigation';\nimport Form from \"./Form.js\";\nimport Weather from \"./Weather.js\"\nimport Currenttime from \"./Currenttime.js\"\n\nconst Api_Key = \"e8a58ee00e5ccf3676751bdde74adb74\";\n\nclass App extends Component {\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.state={\n\t\t\t\troute: 'login',\n\t\t\t\tcity: undefined,\n\t\t        country: undefined,\n\t\t\t    main: undefined,\n\t\t\t    celsius: undefined,\n\t\t\t    temp_max: null,\n\t\t\t    temp_min: null,\n\t\t\t    description: \"\",\n\t\t\t    error: false\n\t\t};\n\t}\n\n\t  calCelsius(temp) {\n\t    let cell = Math.floor(temp - 273.15);\n\t    return cell;\n \t}\n \t getWeather = async e => {\n     e.preventDefault();\n\n    const country = e.target.elements.country.value;\n    const city = e.target.elements.city.value;\n\n    if (country && city) {\n      const api_call = await fetch(\n        `http://api.openweathermap.org/data/2.5/weather?q=${city},${country}&appid=${Api_Key}`\n      );\n\n      const response = await api_call.json();\n\n      this.setState({\n        city: `${response.name}, ${response.sys.country}`,\n        country: response.sys.country,\n        main: response.weather[0].main,\n        celsius: this.calCelsius(response.main.temp),\n        temp_max: this.calCelsius(response.main.temp_max),\n        temp_min: this.calCelsius(response.main.temp_min),\n        description: response.weather[0].description,\n        error: false\n      });\n\n      console.log(response);\n    } else {\n      this.setState({\n        error: true\n      });\n    }\n  };\n\tonRouteChange = (prop) =>\n\t{\n\t\tthis.setState({route:prop});\n\t}\n\trender() {\n\treturn(\n\t\t<div className=\"App\">\n\t\t<Navigation onRouteChange={this.onRouteChange}/>\n\t\t  {this.state.route === 'login' ?\n\t\t  <Signin onRouteChange={this.onRouteChange}/>\n\t\t  :\n\t\t  <div className=\"tc\">\n  \t\t\t<Form loadweather={this.getWeather} error={this.state.error} /> \n  \t\t\t<Weather\n\t          cityname={this.state.city}\n\t          temp_celsius={this.state.celsius}\n\t          temp_max={this.state.temp_max}\n\t          temp_min={this.state.temp_min}\n\t          description={this.state.description}\n           />\n           <Currenttime />\n          </div>\n\t    }\n\t   </div>\n\t);\n   }\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}